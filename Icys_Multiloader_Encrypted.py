import base64; exec(base64.b64decode("CmltcG9ydCBiYXNlNjQKaW1wb3J0IG9zCmltcG9ydCBzeXMKaW1wb3J0IHVybGxpYi5yZXF1ZXN0CgpHSVRIVUJfVkVSU0lPTl9VUkwgPSAiaHR0cHM6Ly9naXRodWIuY29tL2ljeWtiL2ljeS1sb2FkZXJzL3Jhdy9tYWluL3ZlcnNpb24udHh0IgpHSVRIVUJfTE9BREVSX1VSTCA9ICJodHRwczovL2dpdGh1Yi5jb20vaWN5a2IvaWN5LWxvYWRlcnMvcmF3L21haW4vSWN5c19NdWx0aWxvYWRlcl9FbmNyeXB0ZWQucHkiCgpkZWYgZ2V0X2N1cnJlbnRfdmVyc2lvbigpOgogICAgcmV0dXJuICIxLjAuMSIKCmRlZiBmZXRjaF9sYXRlc3RfdmVyc2lvbigpOgogICAgdHJ5OgogICAgICAgIHdpdGggdXJsbGliLnJlcXVlc3QudXJsb3BlbihHSVRIVUJfVkVSU0lPTl9VUkwpIGFzIHJlc3BvbnNlOgogICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UucmVhZCgpLmRlY29kZSgpLnN0cmlwKCkKICAgIGV4Y2VwdDoKICAgICAgICByZXR1cm4gZ2V0X2N1cnJlbnRfdmVyc2lvbigpCgpkZWYgdXBkYXRlX2xvYWRlcigpOgogICAgdHJ5OgogICAgICAgIHdpdGggdXJsbGliLnJlcXVlc3QudXJsb3BlbihHSVRIVUJfTE9BREVSX1VSTCkgYXMgcmVzcG9uc2U6CiAgICAgICAgICAgIG5ld19jb2RlID0gcmVzcG9uc2UucmVhZCgpCiAgICAgICAgICAgIHdpdGggb3BlbigiSWN5c19NdWx0aWxvYWRlcl9VcGRhdGVkLnB5IiwgIndiIikgYXMgZjoKICAgICAgICAgICAgICAgIGYud3JpdGUobmV3X2NvZGUpCiAgICAgICAgICAgIHByaW50KCJMb2FkZXIgdXBkYXRlZCBzdWNjZXNzZnVsbHkuIFBsZWFzZSBydW4gJ0ljeXNfTXVsdGlsb2FkZXJfVXBkYXRlZC5weScuIikKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBwcmludChmIlVwZGF0ZSBmYWlsZWQ6IHtlfSIpCgpkZWYgcnVuX2JpbmFyeV9jb2RlKCk6CiAgICBlbmNvZGVkID0gYidjSEpwYm5Rb0lsSjFibTVwYm1jZ2JXRnBiaUJzYjJkcFl5NHVMaUlwJwogICAgZXhlYyhiYXNlNjQuYjY0ZGVjb2RlKGVuY29kZWQpLmRlY29kZSgpKQoKaWYgX19uYW1lX18gPT0gIl9fbWFpbl9fIjoKICAgIGN1cnJlbnRfdmVyc2lvbiA9IGdldF9jdXJyZW50X3ZlcnNpb24oKQogICAgbGF0ZXN0X3ZlcnNpb24gPSBmZXRjaF9sYXRlc3RfdmVyc2lvbigpCiAgICBpZiBjdXJyZW50X3ZlcnNpb24gIT0gbGF0ZXN0X3ZlcnNpb246CiAgICAgICAgcHJpbnQoZiJVcGRhdGluZyBmcm9tIHZlcnNpb24ge2N1cnJlbnRfdmVyc2lvbn0gdG8ge2xhdGVzdF92ZXJzaW9ufS4uLiIpCiAgICAgICAgdXBkYXRlX2xvYWRlcigpCiAgICBlbHNlOgogICAgICAgIHJ1bl9iaW5hcnlfY29kZSgpCg=="))